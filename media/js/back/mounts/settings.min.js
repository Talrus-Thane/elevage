jQuery(document).ready(function (e) {
    // Handle species change
    let colors = acym_helper.parseJson(jQuery('#colors').val());
    let $colorInput = jQuery('#colorInput');

    jQuery.updateColors = function (selectedSpecies) {
        $colorInput.children().remove();
        jQuery.each(colors[selectedSpecies], function (key, value) {
            $colorInput.append(jQuery('<option></option>')
                .attr('value', value.id)
                .text(value.name));
        });
    };

    // Handle gender selection
    jQuery('.gender_image').on('click', function () {
        jQuery('.selected_gender').removeClass('selected_gender');
        jQuery(this).addClass('selected_gender');

        jQuery('#genderInput').val(jQuery(this).attr('data-gender'));
    });

    $colorInput.on('change', function () {
        if (jQuery('[name="mother_id"]').val() > 0) {
            jQuery('[name="mount[purity_level]"]').val('1');
        }
    });
});
